<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/history.js/1.8/bundled-uncompressed/html4+html5/jquery.history.js"></script>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <meta name="description" content="Cloud Elements is an API Integration Platform built for application developers and API publishers">
  <meta name="keywords" content="Cloud Elements, API Documentation, API Integration Platform, API Integration, API Management, Integration Tools">
  <meta name="author" content="Cloud Elements">
  <meta name="google-site-verification" content="RCqiEIyEbmcYtLZRYMOejbAaMr4EhW9jkorS6AbdJ_k" />
  <title>Developer Portal | Cloud Elements</title>
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:400,600,700,400italic" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/assets/font-awesome/css/font-awesome.min.css">
  <link href="/assets/css/toolkit-light.css" rel="stylesheet">
  <link href="/assets/css/docs.css" rel="stylesheet">
  <link href="/assets/css/application.css" rel="stylesheet">
  <link href="/assets/css/custom-styles.css" rel="stylesheet">
  <link rel="canonical" href="https://developers.cloud-elements.com/docs/legacy/formulas/forumulaSteps.html">
  <!-- <link href="/api-docs/css/screen.css" media="screen" rel="stylesheet" type="text/css"/> -->
  <!-- <link href="/assets/css/elementDocs.css" rel="stylesheet"> -->
  <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
<link rel="manifest" href="/favicon/manifest.json">
<link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
<meta name="theme-color" content="#ffffff">

  <style>
  /* note: this is a hack for ios iframe for bootstrap themes shopify page */
  /* this chunk of css is not part of the toolkit :) */
  body {
    width: 1px;
    min-width: 100%;
    *width: 100%;
  }
  </style>
</head>

<body class="with-top-navbar">
  <!-- Main Nav -->
<!-- Include the aloglia light search client from jsdelivr-->
<script src="https://cdn.jsdelivr.net/algoliasearch/3/algoliasearchLite.min.js"></script>
<script type="text/javascript">
  let client = algoliasearch('G8W6UO94HX', 'f8dafac4c9e969eecadf7f97f8d3f15f');
  let index = client.initIndex('developer_portal_pages');
  let results;
  function executeSearch(){
    let resultsList = document.getElementById('resultsList');
    resultsList.innerHTML = '';
    let searchTerm = document.getElementById('searchBox').value;
    // Only execute the search if the user has entered at least 3 characters
    if(searchTerm.length >= 3){
      index.search(searchTerm, function searchDone(err, content) {
        // Loop through the results returned by aloglia
        console.log(content);
        content.hits.forEach(element => {
          let listItem = document.createElement('li');
          listItem.setAttribute("class", "resultsItem");
          listItem.innerHTML =
            listItem.innerHTML + '<a class=\'resultItemLink\' href='+element.url+'>' + element.heading + ' | ' + element.title + '</a>' + '<br/>' + element._snippetResult.text.value;
          resultsList.appendChild(listItem);
        })
      });
      $(".searchResultsContainerActive").click(function(e){
        console.log("was clicked");
        console.log(e.target);
        if($(e.target).is("a") || $(e.target).is("div[id='resultsContainer']")){
          let resultsList = document.getElementById('resultsList');
          $(resultsList).empty();
          $("#searchBox").val("");
          document.getElementById("resultsContainer").className = "searchResultsContainer";
        }
      })
    }
    if(searchTerm.length >= 3){
      document.getElementById("resultsContainer").className = "searchResultsContainerActive";
    }
    else{
      document.getElementById("resultsContainer").className = "searchResultsContainer";
    }
  }
</script>
<link href="/assets/css/navbar.css" rel="stylesheet">
<nav class="nav navbar navbar-light navbar-fixed-top">
  <div class="container-fluid navbar-wraper">
    <div class="navbar-header col-md-2">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a id="logo" class="navbar-brand navbar-brand-emphasized" href="http://cloud-elements.com/">
        <img src="/assets/img/cloud-elements-logo.png" alt="Cloud Elements Logo" />
      </a>
    </div>
    <div class="searchBoxContainer col-md-4 hidden-sm hidden-xs">
      <div class="searchBoxWrapper">
        <input
          id="searchBox"
          class="searchBox"
          type="text"
          placeholder="Search the docs..."
          onkeyup="executeSearch()"
          autocomplete="off"
        >
        <span class="icon icon-magnifying-glass"></span>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse col-md-6 float-right">
      <ul class="nav navbar-nav">
        <li>
          <a href="http://status.cloud-elements.com/">Status</a>
        </li>
        <li>
          <a href="https://support.cloud-elements.com/hc/en-us">Support</a>
        </li>
        <li>
          <a href="https://offers.cloud-elements.com/cloud-elements-free-trial-sign-up" target="_blank">
          <button type="button" class="btn btn-lg btn-danger try-it">Try it For Free! <i class="fa fa-caret-right"></i></button>
          </a>
        </li>
      </ul>
    </div>
  </div>
  <div class="searchResultsContainer" id='resultsContainer'>
    <div class="leftPadding col-md-3"> </div>
    <div class="resultsWrapper col-md-6">
      <ul id="resultsList">

      </ul>
    </div>
    <div class="rightPadding col-md-3"></div>
  </div>
  <script>
    // $(document).ready(function(){
    //   console.log('its ready');

    // })
  </script>
</nav>
<!-- END Main Nav -->


  <div class="container-fluid pageContainer">
    <div class="col-md-3 sidebar">
    <link href="/assets/css/sidebar.css" rel="stylesheet">
<link href="/assets/css/release-notes.css" rel="stylesheet">
<script type="text/javascript">
  let currentSelection="";
  // Initialize the expanded menu
  function setCurrentSelection(selection){
    currentSelection = selection;
    document.getElementById(selection).className = "accordionListActive";
  }
  // Accordion List toggle
  function selectAccordion(selection) {
    if(currentSelection != ""){
      document.getElementById(currentSelection).className = "accordionList";
    }
    document.getElementById(selection).className = "accordionListActive";
    currentSelection = selection;
  }
</script>
<div class="sidebarWrapper" id="sidebarWrapper">
</div>
<!-- This section loads in the accordion menu from the sitemap.html file
     Its too expensive to build the site map for each page in the portal -->
<script>
  $(window).on('load',(e) => {
    // Pull in the liquid generated sitemap
    $("#sidebarWrapper").load("/docs/sitemap.html", () =>{
      let pathWithQuery = `${window.location.pathname}${window.location.search}`;
      // Expand the current high level accordion
      let highLevelId = $(`a[href*='${pathWithQuery}']`).closest(`[class*='accordionList']`).attr("id");
      if(highLevelId) setCurrentSelection(highLevelId);
      // Expand the lower level heading
      let currentSelection = $(`a[href*='${pathWithQuery}']`).closest('ul').find('.subItem');
      if(currentSelection) currentSelection.attr('class', 'subItemActive');
      // Create a click listener for sub items
      // Accordion operations
      $(".subHeading").click(function() {
        let selection = $(this).parent().find(".subItem");
        selection.attr('class', 'subItemActive');
        if(currentSelection) currentSelection.attr('class', 'subItem');
        currentSelection = selection;
      });


      // Initialized the highlighting wrapper
      $(`.sidebarWrapper a[href='${pathWithQuery}']`).addClass("activeAccordionLink");
      //Create Click listener for the links
      $(".sidebarWrapper a").click((e)=> {
        $(".activeAccordionLink").removeClass("activeAccordionLink");
        $(e.target).addClass("activeAccordionLink");
      })
    });
  });
</script>

    </div>
    <div class="col-md-9 contentWrapper elementDocContentWrapper">
      <link href="/api-docs/css/screen.css" media="screen" rel="stylesheet" type="text/css"/>
      <link href="/assets/css/elementDocs.css" rel="stylesheet">
      <div class="container-fluid">
        <div class="pageHeading">
          <h2> Formulas </h2>
          <!-- <h4> An overview of all the available formula steps </h4> -->
        </div>
        <div class="pageTabs">
          
          
          
          <div class="tab">
            <a href="/docs/legacy/formulas/?elementId=">Overview</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/definitions.html?elementId=">Definitions</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/forumulaSteps.html?elementId=">Formula Step Types</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/firstFormula.html?elementId=">Build Your First Formula</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/formulaScopes.html?elementId=">Formula Step Scope</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/examples.html?elementId=">Examples</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/faqs.html?elementId=">FAQs</a>
          </div>
          
          <div class="tab">
            <a href="/docs/legacy/formulas/api-documentation.html?elementId=">API Documentation</a>
          </div>
          
        </div>
      </div>
      <div class="elementDocContent">
        <div markdown="span" class="bs-callout bs-callout-info">The documentation in this section is for Cloud Elements 1.0. Find Cloud Elements 2.0 documentation at <a href=../../guides/formulasC2/index.html>Building Formulas</a>.</div>

<h2 id="amqp-request-step">amqp Request Step</h2>

<p>The <code>amqpRequest</code> uses the <code>AMQP</code> protocol to post a message to an MQ server, e.g., <code>RabbitMQ</code>, etc.</p>

<ul>
<li>The <code>url</code> parameter is required and is used to specify the <code>AMQP</code> URL endpoint of the MQ Server. The structure of the URL is as specified in the following documentation - <a href="https://www.rabbitmq.com/uri-spec.html">https://www.rabbitmq.com/uri-spec.html</a></li>
<li>The <code>exchange</code> parameter is optional and indicates the name of the MQ server exchange to which the message should be posted.</li>
<li>The <code>queue</code> attribute is required and indicates the name of the queue of the MQ server to which the message should be posted.</li>
<li>The <code>body</code>, as for the other request types, is the <code>JSON</code> payload to post to the MQ server.</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">373</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-other-step"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"onFailure"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-step-to-handle-failure"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"send-amqp-event"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amqpRequest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${steps.transform-event.response}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"amqp://otqaqsml:tPpXwTl7-iMtezRmyJmD-y2U_XbroYpW@jaguar.rmq.cloudamqp.com/otqaqsml"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
    </span><span class="s2">"queue"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myqueue"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="element-request-step">Element Request Step</h2>

<p>This step makes an API call to a specific Element Instance.</p>

<p>Required properties:</p>

<ul>
<li><code>elementInstanceId</code></li>
<li><code>method</code></li>
<li><code>path</code></li>
</ul>

<p>Optional properties:</p>

<ul>
<li><code>headers</code></li>
<li><code>query</code></li>
<li><code>body</code></li>
</ul>

<p><strong>Note:</strong> These optional parameters need be references to an object from a previous step in the formula.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get-contact"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"elementRequest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-other-step"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
     </span><span class="s2">"elementInstanceId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${crm.instance.id}"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="p">,</span><span class="w">
     </span><span class="s2">"api"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/hubs/crm/contacts/{objectId}"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="element-request-stream-step">Element Request Stream Step</h2>

<p>An Element Request Stream is used to stream a file from one Element Instance to another. In this step, you are outlining two API calls instead of just one. These are separated by using <code>download</code> to refer to the first API that will download the data and <code>upload</code> to refer to the second API call which uploads the data. The response body of the download request is used as the request body of the upload request.</p>

<p>Each of the two API calls in the Stream Step have the same properties as an Element Request Step.</p>

<h2 id="filter-step">Filter Step</h2>

<p>Custom Javascript that <em>must</em> return true or false.</p>

<ul>
<li>If a filter returns <code>true</code>, the step linked to <code>onSucess</code> will be executed.</li>
<li>If a filter returns <code>false</code>, the step linked to <code>onFailure</code> will be executed.</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"contact-filter-step"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"filter"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-step"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"onFailure"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-other-step"</span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"done(trigger.event.objectType.toUpperCase() === 'CONTACT' &amp;&amp; trigger.event.eventType === 'UPDATED');"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="formula-step">Formula Step</h2>

<p>Executes a different formula instance.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"a-sub-formula-step"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"formula"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"formulaId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OTHER_FORMULA_ID"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="http-request-step">http Request Step</h2>

<p>Makes an HTTP/S call to any URL/endpoint.</p>

<p>Required properties:</p>

<ul>
<li><code>url</code>, with HTTP or HTTPS</li>
<li><code>Method</code></li>
</ul>

<p>Optional properties:</p>

<ul>
<li><code>query</code></li>
<li><code>path</code></li>
<li><code>headers</code></li>
<li><code>body</code></li>
</ul>

<p><strong>Note:</strong> These optional parameters must refer to an object from a previous step.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">372</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-other-step"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"onFailure"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-step-to-handle-failure"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"send-event"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"httpRequest"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"POST"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"query"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"path"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"headers"</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"${steps.transform-event.response}"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:2222/events"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="loop-step">Loop Step</h2>

<p>Loops over a list of objects from a previous step or trigger.</p>

<p>To Use a loop step:</p>

<ul>
<li>You must provide it with a list of objects to loop over.</li>
<li>Set the <code>onSuccess</code> field to the first step in the loop.</li>
<li>When you have reached the last step in the loop set the <code>onSuccess</code> field to the loop step, this will restart the loop for the next object.</li>
<li>If you need to continue on after the loop is completed, you can set the loop step onFailure to the next step to execute after the loop is completed. For a loop step, <code>onFailure</code> is executed when the loop has been executed for all objects in the list.</li>
</ul>

<h2 id="notification-step">Notification Step</h2>

<p>Custom Javascript that <em>must</em> pass a boolean to the <code>done</code> callback.  If true, an email will be sent to the registered &quot;notification email&quot; address for the formula instance.</p>

<h2 id="retry-formula-execution-step">Retry Formula Execution Step</h2>

<p>Retries a formula instance execution with the same input data. The number of retry attempts can be configured, with a maximum of 5 attempts, and the retry time is set based upon an exponential backoff in minutes. The equation used for the exponential backoff is <code>round(e^x)</code> where <code>x</code> is the retry attempt number.</p>

<p>Required Property:</p>

<ul>
<li><code>retryAttempts</code></li>
</ul>

<h2 id="request-step">Request Step</h2>

<p>Makes an API call to one of our platform APIs.</p>

<p>These steps will look the same as any elementRequest, except that they do not need an elementInstanceId property. This is because these API calls are not element instance API calls, but instead just calls to one of our platform APIs.</p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"get-instances"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"request"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"some-other-step"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"api"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/instances"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"method"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GET"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<h2 id="script-step">Script Step</h2>

<p>Custom Javascript that <em>must</em> pass a valid JSON object to the <code>done</code> callback. The javascript here is powered by Node.js and has the following packages available to it:</p>

<ul>
<li>CE: Our custom library that provides some common functionality. It is not necessary to <code>require</code> this library, it is available by default.

<ul>
<li><code>CE.randomString()</code>: Generate a random string (approx. 10 characters long).</li>
<li><code>CE.randomEmail()</code>: Generate a random email address.</li>
<li><code>CE.md5(str)</code>: Create an MD5 hash from a string value. Takes a <code>string</code> as a parameter. Returns a <code>string</code>.</li>
<li><code>CE.b64(str)</code>: Encode a string in base64. Takes a <code>string</code> as a parameter. Returns a <code>string</code>.</li>
<li><code>CE.hmac(algo)(enc)(secret, str)</code>: HMAC hash a string (<em>str</em>) using the provided secret (<em>secret</em>), algorithm (<em>algo</em>), and encoding (<em>enc</em>). See <a href="https://nodejs.org/api/crypto.html#crypto_class_hmac">https://nodejs.org/api/crypto.html#crypto_class_hmac</a> for more information about the algorithm and encoding parameters.</li>
<li><code>CE.hmac[algo][enc](secret, str)</code>: This is a set of convenience functions that allow HMAC hashing using some common algorithms and encodings. For example, <code>CE.hmacSha1Hex(secret, str)</code> will create an HMAC SHA1 hash of the provided string, using the provided secret, and return a hex string.  You can replace <em>algo</em> and <em>enc</em> with the following values:
<em>algo</em>: <code>Sha1</code>, <code>Sha256</code>, <code>Md5</code>
<em>enc</em>: <code>Hex</code>, <code>base64</code></li>
</ul></li>
<li>Lodash: The popular <code>lodash</code> library. To use this library, simply <code>require</code> it in your script. It is possible to use the library modules, as well, such as <code>lodash/fp</code>.</li>
<li>Util: The standard Node <code>util</code> library. To use, <code>require</code> it in your script.</li>
</ul>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span><span class="w">
  </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"build-email-json"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"script"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"onSuccess"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"send-email"</span><span class="w"> </span><span class="p">],</span><span class="w">
  </span><span class="s2">"properties"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"body"</span><span class="p">:</span><span class="w"> </span><span class="s2">"done({ body: { subject: 'Contact Updated', message: 'Contact ' + trigger.event.objectId + ' was updated', to: 'frank.ricard@old-school.com', from: 'joseph-pulaski@old-school.com' } });"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
      </div>
      <script type="text/javascript">
        // Init the active tab
        $(`a[href='${window.location.pathname}${window.location.search}']`).parent().addClass("activeTab");
        $(`a[href^='${window.location.pathname}?']`).parent().addClass("activeTab");
        // Toggle the current active tab on the element menu
        $(".tab a").click((e)=> {
          $(".activeTab").removeClass("activeTab");
          $(e.target).parent().addClass("activeTab");
        })
      </script>
    </div>
  </div>
  <script src="/assets/js/tablesorter.min.js"></script>
  <script src="/assets/js/toolkit.js"></script>
  <script src="/assets/js/application.js"></script>
  <!-- /_includes/google_analytics.html -->
<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-32342187-1', 'auto');
 //ga('create', 'UA-106858868-1', 'auto');
 ga('send', 'pageview');

</script>

  <!-- Engagio Tracking Script -->
<script type=“text/javascript” charset=“utf-8 ">
var _eiq = _eiq || [];
var _engagio_settings = {
accountId: “572b5582906e828baac61d212c133b568b913200”
};
(function() {
var ei = document.createElement(‘script’); ei.type = ‘text/javascript’; ei.async = true;
ei.src = (‘https:’ == document.location.protocol ? ‘https://’ : ‘http://’) + ‘web-analytics.engagio.com/js/ei.js’;
var s = document.getElementsByTagName(‘script’)[0]; s.parentNode.insertBefore(ei, s);
})();
</script>
  <!-- Start of Async HubSpot Analytics Code -->
 <script type="text/javascript">
   (function(d,s,i,r) {
     if (d.getElementById(i)){return;}
     var n=d.createElement(s),e=d.getElementsByTagName(s)[0];
     n.id=i;n.src='//js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/440197.js';
     e.parentNode.insertBefore(n, e);
   })(document,"script","hs-analytics",300000);
 </script>
<!-- End of Async HubSpot Analytics Code -->

  <script src="/assets/js/ajaxLoading.js"></script>
  <script>
  // execute/clear BS loaders for docs
  $(function(){while(window.BS&&window.BS.loader&&window.BS.loader.length){(window.BS.loader.pop())()}})
  </script>
</body>
</html>
